--- a/net/minecraft/world/biome/Biome.java
+++ b/net/minecraft/world/biome/Biome.java
@@ -123,6 +123,20 @@
       this.field_235052_p_ = p_i241927_5_;
    }
 
+   public static com.mojang.serialization.Decoder<Biome> basedOn(Biome base, net.minecraft.util.RegistryKey<Biome> key, net.minecraft.util.registry.WorldSettingsImport<com.google.gson.JsonElement> parser) {
+      return RecordCodecBuilder.create(inst ->
+              inst.group(
+                      MapCodec.unit(base.field_242423_j).forGetter(b -> b.field_242423_j),
+                      MapCodec.unit(base.field_201877_au).forGetter(b -> b.field_201877_au),
+                      MapCodec.unit(base.field_76748_D).forGetter(b -> b.field_76748_D),
+                      MapCodec.unit(base.field_76749_E).forGetter(b -> b.field_76749_E),
+                      MapCodec.unit(base.field_235052_p_).forGetter(b -> b.field_235052_p_),
+                      BiomeGenerationSettings.basedOn(base.field_242424_k, key, base.field_201877_au, parser).forGetter(b -> b.field_242424_k),
+                      MobSpawnInfo.basedOn(base.field_242425_l, key, base.field_201877_au, parser).forGetter(b -> b.field_242425_l)
+              ).apply(inst, Biome::new)
+      );
+   }
+
    @OnlyIn(Dist.CLIENT)
    public int func_225529_c_() {
       return this.field_235052_p_.func_242527_d();
@@ -200,7 +214,7 @@
       } else {
          if (p_201850_2_.func_177956_o() >= 0 && p_201850_2_.func_177956_o() < 256 && p_201850_1_.func_226658_a_(LightType.BLOCK, p_201850_2_) < 10) {
             BlockState blockstate = p_201850_1_.func_180495_p(p_201850_2_);
-            if (blockstate.func_196958_f() && Blocks.field_150433_aE.func_176223_P().func_196955_c(p_201850_1_, p_201850_2_)) {
+            if (blockstate.isAir(p_201850_1_, p_201850_2_) && Blocks.field_150433_aE.func_176223_P().func_196955_c(p_201850_1_, p_201850_2_)) {
                return true;
             }
          }
